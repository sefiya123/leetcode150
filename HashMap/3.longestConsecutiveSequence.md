128. Longest Consecutive Sequence

Given an unsorted array of integers nums, return the length of the longest consecutive elements sequence.

You must write an algorithm that runs in O(n) time.

 

Example 1:

Input: nums = [100,4,200,1,3,2]
Output: 4
Explanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.

```cpp

class Solution {
public:
    int longestConsecutive(vector<int>& nums) {
        unordered_set<int>st;
        int n = nums.size();
         for(int i =0;i<n;i++) {
            st.insert(nums[i]);
         }
         int mx = 0;
         for(auto it: st) {
            int cnt = 0;
            if(st.find(it-1) == st.end()) {
                cnt++;
                int x = it;
                while(st.find(x+1) != st.end()) {
                    x = x+1;
                    cnt++;
                }
            }
            mx = max(mx,cnt);
         }
         return mx;
    }
};

```

✅ Time Complexity (TC):

Although it looks like a nested loop, each number is visited at most once in the inner while loop (because a number can only be part of one sequence starting from the smallest number).

Hence, the total work done in both loops is linear.

✅ Time Complexity = O(n)

✅ Space Complexity (SC):
You use an unordered_set<int> to store all elements → uses O(n) space.

✅ Space Complexity = O(n)

✅ Final Summary:
Complexity Type	Value
Time Complexity	O(n)
Space Complexity	O(n)

